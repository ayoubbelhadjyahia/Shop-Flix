<body>
<header class="bg-gradient-dark">
  <div class="page-header min-vh-75" style="background-image: url('https://media.istockphoto.com/id/1185242532/vector/business-conference-flat-vector-illustration.jpg?s=612x612&w=0&k=20&c=Azqo72uqsv8p--BHuNf2QcMP0lH4S965r8P8B0PXA4E=')">
    <span class="mask bg-gradient-dark opacity-6"></span>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8 text-center mx-auto my-auto">
          <h1 class="text-white">SHOPFLIX FORUM</h1>
          <p class="lead mb-4 text-white opacity-8">Post and share all your Ideas</p>
          <div class="d-flex justify-content-center">
            <a href=""><i class="fab fa-facebook text-lg text-white me-4"></i></a>
            <a href=""><i class="fab fa-instagram text-lg text-white me-4"></i></a>
            <a href=""><i class="fab fa-twitter text-lg text-white me-4"></i></a>
            <a href=""><i class="fab fa-google-plus text-lg text-white"></i></a>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
<div class=" z-index-5" >
  <section class="py-3 z-index-5" >
    <div class="col-lg-3 mb-lg-0 mb-5 mt-8 mt-md-5 mt-lg-0" style="width: 250px;position: -webkit-sticky;
float: left;
  position: sticky;
  height:400px;
  top: 0;
  padding: 5px;
  z-index: 10;
          overflow-x: hidden;">
      <ul class="nav flex-column bg-white border-radius-lg p-3 position-sticky top-10 shadow-lg">
        <li class="nav-item">
          <button class="btn bg-gradient-blue btn-block mb-3"  style="width: 200px; margin-top: 60px ;background-color: red;color: white" type="button"  data-bs-toggle="modal" data-bs-target="#exampleModaladd">
            Add Post
          </button>

        </li>
        <li class="nav-item">
          <button routerLink="/ChatP" class="btn bg-gradient-blue btn-block mb-3" style="width: 200px ;background-color:#0F192A;color: white" type="button"  >
            Privet Chat             </button>
        </li>
      </ul>
    </div>
    <div style="      position: -webkit-sticky;
float: right;
  position: sticky;
  width: 400px;
  height:550px;
  top: 0;
  padding: 5px;
  z-index: 10;
          overflow-x: hidden;
">
      <div class="container" style="">
        <div class="row justify-space-between py-2">
          <div class="col-6 mx-auto">
            <div class="rotating-card-container">
              <div class="card card-rotate card-background mt-md-0 mt-5">
                <div class="front front-background min-height-100" style="background-image: url(https://i.pinimg.com/originals/87/6f/ab/876fab6207f93c293ae77a70f188c402.gif); background-size: cover;width: 200px; height: 200px">
                  <div class="card-body  text-center">
                    <p class="text-sm   text-uppercase font-weight-normal" style="color:black">BEST POST FOR THE WEEK</p>
                    <hr>
                    <h4 style="color:red" class="mb-0">{{BestPost.user.username}}</h4>
                  </div>
                </div>

                <div class="back back-background min-height-100" style="background-image: url(https://guestoria.com/wp-content/uploads/2019/04/winner-gif-1.gif); background-size: cover ;width: 200px; height: 200px">
                  <div class="card-body  ">
                    <h2>Title of Post:</h2>
                    <h3 style="color:black">{{BestPost.title}}</h3>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>


    <section class="py-5 align-items-center">
      <div class="container">
        <div class="row border-radius-md py-4 p-3 ps-0" style="margin-left: 18%; margin-top: 20px; margin-bottom: 20px">
          <div class="col-md-10 mb-md-0 mb-2">
            <div class="input-group input-group-outline">
              <label class="form-label">Search for Posts</label>
              <input type="text" name="search" class="form-control">
            </div>
          </div>

        </div>

        <div class="col-md-6 " style="margin-left:  260px">
          <div class="card text-center">
            <div class="overflow-hidden position-relative border-radius-lg bg-cover p-3" style="background-image: url('https://media.istockphoto.com/id/1266025383/vector/video-conference-and-group-chat-vector-illustration-with-diverse-peoples-avatars.jpg?s=1024x1024&w=is&k=20&c=hKztzNAVSvr3_PJZtnuLOtyq7llkAXoXpz7kFXzuRpg=')">
              <span class="mask bg-gradient-dark opacity-6"></span>
              <div class="card-body position-relative z-index-1 d-flex flex-column mt-5" routerLink="/Chat">
                <p class="text-white font-weight-bolder">Les see more about our SHOPFLIX chat Group.</p>
                <a class="text-white text-sm font-weight-bold mb-0 icon-move-right mt-4" href="javascript:;">
                  Read More
                  <i class="material-icons text-sm ms-1 position-relative" aria-hidden="true">arrow_forward</i>
                </a>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section>

    <ng-container *ngFor="let i of listePost | paginate :{
itemsPerPage:1,
currentPage:pagePost};
 let aa =index ">


      <div class="card z-index-2" data-animation="true" style="width: 100%; height: 100%">
        <div class="card-header p-0 position-relative mt-n2 mx-3 z-index-2">
          <div class="container">

            <div class="row" style="margin-left: 1%">
              <div class="col-lg-10 col-md-10 mx-auto">

                <div class="card-body ">
                  <div class="row mt-8">

                    <div class="col-lg-10 col-md-10">

                      <div class="card">
                        <div class="card-body">

                          <div class=" dropdown dropdown-hover z-index-2" style="float: right;   position: sticky; margin-right: 20px">
                            <a href="#" class=" dropdown  " data-bs-toggle="dropdown" id="navbarDropdownMenuLink2" style="height: 2px; height: 3px">
                              <i class="material-icons">settings</i>

                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink2">
                              <li (click)="reportPost(i.idPost)">
                                <a class="dropdown-item" type="button" style="color: #1f8ce3" data-bs-toggle="modal" data-bs-target="#exampleModal231">
                                  <img src="" /><i class="material-icons">report</i>Report
                                </a>
                              </li>
                              <li (click)="delete(i.idPost)">
                                <a class="dropdown-item"  data-bs-toggle="modal" data-bs-target="#exampleModalNotification" style="color: darkred">
                                  <img  /><i class="material-icons">delete_sweep</i>Delete
                                </a>
                              </li>
                              <li>
                                <a (click)="getPostToUpdate(i)" class="dropdown-item" type="button" style="color: darkgreen" data-bs-toggle="modal" data-bs-target="#exampleModalupdate">
                                  <img src="" /><i class="material-icons" >create</i>Update
                                </a>
                              </li>
                            </ul>

                          </div>
                          <img src="assets/img/" alt="..." class="avatar avatar-lg border-radius-lg shadow mt-n5">

                          <div class="author">
                            <div class="name">
                              <span>{{getDateOnly((i.dateCre))}}</span>
                              <div class="stats">
                                <small><i class="far fa-clock"></i></small>
                              </div>
                            </div>
                          </div>
                          <hr class="dark horizontal my-2 " style="background-color: #1e2e4a;">

                          <h5>{{i.title}}</h5>
                          <h6>{{i.body}}</h6>



                          <div class="container" style="margin-bottom: 20px;margin-left: 60px; align-items: center">

                            <div class="row ">
                              <div class="col-lg-12 col-sm-6" style="margin-top: 20px">
                                <div class="card card-plain">
                                  <div class="">
                                    <a class="d-block blur-shadow-image">
                                      <img src="{{i.image.imagenUrl}}" alt="img-blur-shadow" class="img-fluid shadow border-radius-lg" loading="lazy" style="height: 400px; width: 500px;">
                                    </a>
                                  </div>


                                </div>
                              </div>
                            </div>
                          </div>
                          <style>
                            .far:hover {
                              transform: scale(1.2); /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */
                            }
                            .fas:hover {
                              transform: scale(1.2); /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */
                            }
                          </style>
                          <hr class="dark horizontal my-2 " style="background-color: #1e2e4a;">
                          <div class="d-flex align-items-center">
                            {{i.postLikes.length}}
                            <i class="material-icons ms-2" aria-hidden="false">favorite</i>
                          </div>

                        </div>
                      </div>

                    </div>


                  </div>
                </div>
              </div>
            </div>
          </div>


        </div>
        <div class="card-body text-center">
          <div class=" mt-n6 ">
            <button type="button"  class="btn li zob btn-facebook  btn-icon-only rounded-circle" style="margin-left: 18%; margin-right: 10px" (click)="PostLike('LIKE',i.idPost)">
              <span class="btn-inner--icon">  <i class="material-icons">thumb_up</i>  </span>
            </button>
            <button type="button" class="btn zob btn-danger btn-icon-only rounded-circle" style="margin-left: 20px; margin-right: 10px" (click)="PostLike('ANGRY',i.idPost)">
              <span class="btn-inner--icon"><i class="material-icons">mood_bad</i></span>
            </button>
            <button type="button" class="btn zob btn-outline-warning btn-icon-only rounded-circle" style="margin-left: 20px; margin-right: 10px" (click)="PostLike('LOVE',i.idPost)">
              <span class="btn-inner--icon"><i class="material-icons">favorite</i></span>
            </button>
            <button type="button" name="zaty" class="btn zob btn-dark btn-icon-only rounded-circle" style="margin-left: 20px; margin-right: 10px" (click)="PostLike('DISLIKE',i.idPost)">
              <span class="btn-inner--icon"><i class="material-icons">thumb_down</i></span>
            </button>
            <button type="button" class="btn zob  bg-success btn-icon-only rounded-circle" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne"  style="margin-left: 20px; margin-right: 400px">
              <span class="btn-inner--icon"><i class="material-icons" style="color: whitesmoke">speaker_notes</i></span>
            </button>
            <style>
              .zob:hover {
                transform: scale(1.2); /* (150% zoom - Note: if the zoom is too large, it will go outside of the viewport) */
              }
            </style>



            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="heading" data-bs-parent="#accordionRental" style="width: 700px; margin-left: 24% ">
              <div class="card card-body">
                Comments
                <!--  <div class="" *ngIf="commenttest">
                      <div class="p-3 info-horizontal">
                          <div class="icon icon-shape  shadow-primary text-center" style="height: 20px;width: 20px; margin-top: 12px;">
                              <a href="javascript:;" class="avatar avatar-xs rounded-circle">
                                  <img alt="Image placeholder" src="assets/img/{{currentUser.profilPic}}">
                              </a>                                    </div>
                          <div class="description ps-3">

                              <small class="mb-0" style="font-size: 5mm">{{currentUser.name}}</small>                                         <ng-container *ngIf="p.user.userId == currentUser.userId">
                              <a href="#" class="btn dropdown-hover " data-bs-toggle="dropdown" id="cxxc" style="float: right;"></a>

                              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton" aria-labelledby="navbarDropdownMenuLink22">
                              </ul>
                          </ng-container>
                              <p class="mb-0" style="font-size: 4mm">{{commenttest}}</p>
                              <div><small class="txtsm"   type="button" data-bs-toggle="modal" data-bs-target="#exampleModal" style="margin-right: 30px; margin-left: 20px; font-size: 4mm"> replay</small>  <small class="txtsm" style="font-size: 4mm">Like</small></div>
                              <style>
                                  .txtsm:hover{color: #dd2567; }
                                  .txtsm{text-decoration: underline;}
                              </style>
                          </div>
                      </div>

                  </div>-->

             <ng-container *ngFor="let c of i.comments">

                <div class="" >
                  <div class="p-3 info-horizontal">
                    <div class="icon icon-shape  shadow-primary text-center" style="height: 20px;width: 20px; margin-top: 12px;">
                      <a href="javascript:;" class="avatar avatar-xs rounded-circle">
                        <img alt="Image placeholder" src="assets/img/">
                      </a>                                    </div>
                    <div class="description dropdown ps-3">

                      <small class="mb-0" style="font-size: 5mm">{{c.user.username}}</small>   <a class="txtsm"  type="button" data-bs-toggle="modal" data-bs-target="#exampleModal1" style="color: red;margin-right: 30px; margin-left: 250px; font-size: 4mm" (click)="DeleteComment(c.idComment)"><i class="material-icons">delete_sweep</i>Delete</a>
                      <a href="#" class="btn dropdown dropdown-hover " data-bs-toggle="dropdown" id="navbarDropdownMenuLink22" style="float: right;"></a>
                      <p class="mb-0" style="font-size: 4mm">{{c.text}}</p>
                      <style>
                        .txtsm:hover{color: red; }
                        .txtsm{text-decoration: underline;}
                      </style>
                    </div>
                  </div>

                </div>
             </ng-container>
                <div class="accordion-body text-sm opacity-8">
                  <form class="align-items-center">
                    <div class="input-group input-group-outline  is-active " >
                      <label class="form-label" sty>Type your Comment</label>
                      <input type="text" style="color: black" name="text"  class="form-control " [(ngModel)]="comment.text" #text="ngModel">
                      <button class="btn bg-gradient-faded-light mb-0" (click)="addComment(i.idPost)">
                        <i class="material-icons">send</i>
                      </button>
                    </div>
                  </form>
                </div>

              </div>



            </div>
          </div>
        </div>
      </div>
    </ng-container>





    <section class="py-7">
      <div class="container">
        <div class="row justify-space-between py-2">
          <div class="col-lg-4 mx-auto">
            <ul class="pagination pagination-primary m-4">

              <div  class="pagination-container">
                <pagination-controls

                  nextLabel="Next"
                  (pageChange)="pagePost = $event"></pagination-controls></div>

            </ul>
          </div>
        </div>
      </div>
    </section>
































  </section>
</div>

      <!-- Modal -->
      <div class="modal fade" id="exampleModaladd" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <section>
                      <h3 class="text-center">Add Post</h3>
                      <form role="form" id="contact-form" method="post" autocomplete="off" #f="ngForm">
                        <div class="card-body">
                          <div class="row">
                            <div class="col-md-6">
                              <div class="input-group input-group-dynamic mb-4">
                                <label class="form-label">Title</label>
                                <input class="form-control" aria-label="First  Name..." required name="title" [(ngModel)]="post.title" #title="ngModel" type="text" >

                                </div>
                              <div class="col-lg-4 mx-auto">

                              </div>
                            </div>
                          </div>
                          <div class="form-control is-invalid"  *ngIf="title.invalid && title.touched">
                            <div *ngIf="title.errors?.['required']">Title is required</div>
                          </div>
                          <div class="input-group mb-4 input-group-static">
                            <label>Your message</label>
                            <textarea class="form-control" name="body" required [(ngModel)]="post.body" #body="ngModel" id="message" rows="4"></textarea>
                          </div>
                          <div class="form-control is-invalid"  *ngIf="body.invalid && body.touched">
                            <div *ngIf="body.errors?.['required']">Message is required</div>
                          </div>
                        </div>
                      </form>

              </section>
            </div>
            <div class="modal-footer justify-content-between">
              <button type="button" class="btn bg-gradient-dark mb-0" data-bs-dismiss="modal">cancel</button>
              <button type="button" class="btn bg-gradient-primary mb-0" data-bs-toggle="modal" data-bs-target="#exampleModaladdnext" [disabled]="f.invalid" (click)="add()">Next</button>
            </div>

    </div>
  </div>
</div>
      <!-- Button trigger modal -->

      <!-- Modal -->
      <div class="modal fade" id="exampleModaladdnext" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Your modal title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
             </div>
            <h5 class="modal-title" id="exampleModalLabel12">{{msg}}</h5>
            <div *ngIf="divv" >
            <form role="form" id="contact-formm" method="post" autocomplete="off" #fn="ngForm">
            <div class="modal-body">
              <input type="file" class="file-upload" name="image" required [(ngModel)]="post.image" #image="ngModel"   (change)="onFileSelcted($event)">
            </div>
              <div class="form-control is-invalid"  *ngIf="image.invalid && image.touched">
                <div *ngIf="image.errors?.['required']">Picture is required</div>
              </div>
            </form>

            <div class="modal-footer justify-content-between" >
              <button type="button" class="btn bg-gradient-dark mb-0" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn bg-gradient-primary mb-0" [disabled]="fn.invalid"  (click)="addImage(idadded)">Submit</button>
            </div>
            </div>
          </div>
        </div>
      </div>


<div class="modal fade" id="exampleModalupdate" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <section>
          <h3 class="text-center">Update Post</h3>
          <form role="form"  method="put" autocomplete="off" #f="ngForm">
            <div class="card-body">
              <div class="row">
                <div class="col-md-6">
                  <div class="input-group input-group-dynamic mb-4">
                    <label class="form-label">Title</label>
                    <input class="form-control" aria-label="First Name..." name="title" [(ngModel)]="PostToUp.title" #title="ngModel" type="text" >
                  </div>
                </div>
              </div>
              <div class="input-group mb-4 input-group-static">
                <label>Your message</label>
                <textarea class="form-control" name="body" [(ngModel)]="PostToUp.body" #body="ngModel" rows="4"></textarea>
              </div>
            </div>
          </form>

        </section>
      </div>
      <div class="modal-footer justify-content-between">
        <button type="button" class="btn bg-gradient-dark mb-0" data-bs-dismiss="modal">cancel</button>
        <button type="button" class="btn bg-gradient-primary mb-0" data-bs-toggle="modal" (click)="UpdatePost()">Update</button>
      </div>

    </div>
  </div>
</div>





